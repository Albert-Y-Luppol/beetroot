{"version":3,"sources":["scripts/_fn-favorite.js"],"names":["showFavoriteMovies","e","showResults","favoriteMovies","size","removeCurrentTabs","forEach","id","showFavoriteMovieTab","noResults","fetch","urlObject","then","movie","searchParams","set","buildTab","response","defaultArticleTab","json","addEventListener","img","src","tab","cloneNode","querySelector","appendFavoriteMovieTab","once","btn","innerHTML","concat","setStars","imdbID","classList","toggle","querySelectorAll","el","remove","target","hidden","setRate","closest","tabsConatainer","append","add"],"mappings":"aAAA,SAASA,mBAAmBC,GAA5BA,IAIIC,cAEIC,eAAeC,MASMC,oBAI7BF,eAAAG,SAAA,SAAAC,GAAA,OAAAC,qBAAAD,OATQE,aAmBJC,SAAMC,qBACAJ,GADN,IAECK,EAAKC,IAAAA,IAAO,2BAFbF,EAAAG,aAAAC,IAAA,SAAA,YAKHJ,EAAAG,aAAAC,IAAA,IAAAR,GAGDG,MAASM,GACLJ,MAAO,SAAAK,GAAGC,OAAAA,EAAiBC,UAA3BP,MACO,SAAAC,GAEHO,SAAAA,MAGAC,SAAIC,SAAMT,GADd,IAAAU,EAEOL,kBAAAM,WAAA,GACCF,EAAMC,EAAAE,cAAA,gBALdJ,EAAID,iBAAiB,OAAQM,uBAAwB,CAACC,MAAM,IAU1C,OAAdF,EAAAA,OACAA,EAAAA,IAAAA,EAAc,OAGdG,EAAML,IAAIE,qBAIdF,EAAIE,IAAAA,EAAJ,MAEAF,EAAGV,cAAM,uBAAuBgB,UAAhC,GAAAC,OAAgCjB,EAAA,OAE5BU,EAAIE,cAAc,0BAAlBI,UAAAN,eAAAA,OAAAV,EAAA,KAAAU,SAEAQ,EAAAA,QAAQC,OAARnB,EAAA,OAVMU,EAAIE,cAAc,gCAYxBA,cAAc,+BAAlBQ,UAAAC,OAAA,oCAEAX,EAAIY,GAAAA,GACAC,EAAGH,cAAUI,sBAAyBR,UAAtCO,MAAAA,OAAA,OAAAvB,EAAA,KAAAA,EAAA,KAAA,GAAAuB,QAEP,OAAAvB,EAAA,aAGDU,EAASG,cAAAA,iBAAyBG,UAAAhB,EAAA,WAE1BU,SAAQe,IAEZf,EAAIU,cAAc,qBAAlBI,SACAd,EAAIgB,UAASF,OAAb,oBACAG,EAAAA,iBAAA,sBAAAlC,SAAA,SAAA8B,GACHA,EAAAH,UAAAI,OAAAD,EAAAH,UAAA,GAAA,cAPD,SAASP,uBAAuBzB,GAE5B,IAAIsB,EAAMtB,EAAEqC,OAAOG,QAAQ,cAC3BC,eAAeC,OAAOpB,GACtBA,EAAIU,UAAUW,IAAI,WAClBrB,EAAIgB,QAAS,EACbC,QAAQjB","file":"_fn-favorite.min.js","sourcesContent":["function showFavoriteMovies(e){\r\n\r\n    if(!e) return;\r\n\r\n    showResults();\r\n\r\n    if(!favoriteMovies.size){\r\n\r\n        noResults();\r\n\r\n        return;\r\n    }\r\n\r\n    removeCurrentTabs();\r\n    \r\n    favoriteMovies.forEach(id=>showFavoriteMovieTab(id));\r\n}\r\n\r\n\r\n// functions\r\n\r\n\r\nfunction showFavoriteMovieTab(id){\r\n\r\n    let urlObject = new URL('https://www.omdbapi.com');\r\n\r\n    urlObject.searchParams.set('apikey', 'bcd2d5b4');\r\n    urlObject.searchParams.set('i', id);\r\n\r\n    fetch(urlObject)\r\n    .then(response=>response.json())\r\n    .then(movie=>{\r\n        buildTab(movie);\r\n    });\r\n}\r\n\r\n\r\nfunction buildTab(movie){\r\n    let tab = defaultArticleTab.cloneNode(true),\r\n        img = tab.querySelector('.poster__img');\r\n\r\n    img.addEventListener('load', appendFavoriteMovieTab, {once: true});\r\n\r\n    if(movie['Poster'] != 'N/A') {\r\n        img.src = movie['Poster'];\r\n    } else {\r\n        img.src = './img/no-cover.png';\r\n    }\r\n        \r\n    img.alt = movie['Title'];  \r\n\r\n    tab.querySelector('.description__title').innerHTML = `${movie['Title']}`;\r\n    tab.querySelector('.description__subtitle').innerHTML = `Released in ${movie['Year']} year`;\r\n    tab.dataset.imdbID = movie['imdbID'];\r\n\r\n    let btn = tab.querySelector('button.description__favorite');\r\n    btn.querySelector('.description__favorite-star').classList.toggle('description__favorite-star--full');\r\n\r\n    tab.id = \"\";\r\n    tab.querySelector('.description__main').innerHTML = `<p>${movie['Plot'] != \"N/A\" ? movie['Plot'] : \"\" }</p>`;\r\n\r\n    if(movie['imdbRating'] != 'N/A'){\r\n\r\n        tab.querySelector('.rate__amount').innerHTML = movie['imdbRating'];\r\n\r\n        setStars(tab);\r\n    }\r\n    tab.querySelector('.description__btn').remove();\r\n    tab.classList.remove('tabs__tab--small');\r\n    tab.querySelectorAll('[class*=\"--small\"]').forEach(el=>{\r\n        el.classList.remove(el.classList[0] + '--small');\r\n    });\r\n}\r\n\r\n\r\nfunction appendFavoriteMovieTab(e){\r\n    // console.log(e.target);\r\n    let tab = e.target.closest('.tabs__tab');\r\n    tabsConatainer.append(tab);\r\n    tab.classList.add('flipInX');\r\n    tab.hidden = false;\r\n    setRate(tab);\r\n}"]}